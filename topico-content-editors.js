/*! v0.0.0 */
angular.module("topicoContentEditors",[]),angular.module("topicoContentEditors").directive("topicoEditor",["topicoCEEditorSvc","$compile","$timeout",function(a,b,c){var d;return d=0,{template:'<div class="pagedown-bootstrap-editor">\n <div>\n   <div class="wmd-panel-{{ editorUniqueId }}">\n     <div id="wmd-button-bar-{{ editorUniqueId }}">\n       <textarea class="wmd-input" id="wmd-input-{{ editorUniqueId }}"></textarea>\n     </div>\n     <div id="wmd-preview-{{ editorUniqueId }}" class="wmd-panel wmd-preview"></div>\n   </div>\n </div>\n</div>',replace:!0,restrict:"E",scope:{markdown:"=",html:"="},link:function(a){return a.editorUniqueId=d++,c(function(){var b,c,d,e,f;return c=new Markdown.Converter,e=function(){return alert("Topico markdown editor")},d=new Markdown.Editor(c,"-"+a.editorUniqueId,{handler:e}),d.run(),f=!1,c.hooks.chain("preConversion",function(b){return a.markdown=b,b}),c.hooks.chain("postConversion",function(b){return a.html=b,b}),d.hooks.chain("onPreviewRefresh",function(){return f?void 0:a.$apply()}),b=$("#wmd-input-"+a.editorUniqueId),a.$watch("markdown",function(a){return b.val(a),f=!0,d.refreshPreview(),f=!1})})}}}]),angular.module("topicoContentEditors").directive("topicoVideoEmbed",["topicoCEVideoSvc",function(a){return{template:'<iframe width="{{ config.width }}" height="{{ config.height }}" src="{{ config.src }}" frameborder="0" allowfullscreen></iframe>',restrict:"E",replace:!0,link:function(b,c,d){var e,f,g;return g=a.videoTypes,f=a.res(b,c,d),(e=g.validate(f.subType))!==!0?(c.text(""),console.warn(e)):b.config=g.config(f)}}}]),angular.module("topicoContentEditors").service("topicoCEEditorSvc",function(){});var __indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("topicoContentEditors").service("topicoCESvc",function(){return{validate:function(a,b){var c;return a=function(){try{return a.toLowerCase()}catch(b){return c=b,null}}(),__indexOf.call(b,a)<0?"subtype "+a+" is not valid. valid subtypes: "+b:!0}}}),angular.module("topicoContentEditors").service("topicoCEVideoSvc",["topicoCESvc",function(a){return{res:function(a,b,c){var d;return d=c.res,"string"==typeof d&&(d=a.$eval(d)),d||console.warn("res is not defined for element: "+b[0].nodeName),d},videoTypes:{list:["youtube","vimeo"],validate:function(b){return a.validate(b,this.list)},subType:function(a){var b,c,d,e;d=a.subType;try{return(d=function(){var b,d,f,g;for(f=this.list,g=[],b=0,d=f.length;d>b;b++)e=f[b],(c=a.url.match(new RegExp(e,"i")))&&g.push(c[0]);return g}.call(this)[0]).toLowerCase()}catch(f){return b=f,"youtube"}},config:function(a){var b,c,d;return b=function(){var b;return b={youtube:"embed",vimeo:"video"}[sub(a)],""+location.protocol+"//"+sub(a)+".com/"+b+"/"+a.sourceId},c=null!=(d=a.url)?d:b(),c=c.replace(/watch\?v=/,"embed/"),{src:c,width:a.width,height:a.height}}}}}]);
/*
//@ sourceMappingURL=topico-content-editors.map
*/