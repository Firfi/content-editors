{"version":3,"file":"dist/scripts/scripts.js","sources":["dist/scripts/scripts.src.js"],"names":["angular","module","jQuery","fn","getCursorPosition","input","sel","selLen","this","get","document","selection","focus","createRange","text","length","moveStart","value","selectionStart","run","$templateCache","put","directive","restrict","require","link","$scope","element","attr","ctrl","classToToggle","buttonToggle","bind","checked","$viewValue","$apply","$setViewValue","$watch","ngModel","nv","addClass","removeClass","topicoCEEditorSvc","topicoResourcesSvc","$compile","$timeout","$filter","topicoResourcesService","topicoCETestResourceSvc","nextId","template","replace","scope","markdown","html","getResources","editorUniqueId","includeLinkId","editorAreaId","modalId","types","$","map","resourcesByType","v","name","type","resources","selectedTypes","filtered","filters","title","r","_ref","concat","apply","selectedResources","res","_ref1","toLowerCase","indexOf","$wmdInput","converter","editor","editorArea","help","includeCallback","includeLink","isPreviewRefresh","modal","refresh","watches","Markdown","Converter","alert","popupState","carret","val","click","includeResource","id","cursor","end","newText","start","substring","refreshPreview","Editor","handler","buttonBar","firstElementChild","children","preview","hooks","chain","newWatches","oldWatches","ow","resultMd","_i","_len","str","p1","wtc","trim","$parent","push","description","extend","topicoCEVideoSvc","err","videoTypes","validate","subType","console","warn","config","filter","o","service","__indexOf","item","i","l","e","_error","call","topicoCESvc","list","m","t","_results","url","match","RegExp","getUrl","height","subtype","width","_ref2","_ref3","youtube","vimeo","embed","query","subdomain","location","protocol","sourceId","src","frameborder","desc"],"mappings":"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"}