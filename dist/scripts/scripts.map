{"version":3,"file":"dist/scripts/scripts.js","sources":["dist/scripts/scripts.src.js"],"names":["angular","module","$","fn","getCursorPosition","input","sel","selLen","jQuery","this","get","document","selection","focus","createRange","text","length","moveStart","value","selectionStart","run","$templateCache","put","directive","restrict","require","link","$scope","element","attr","ctrl","classToToggle","buttonToggle","bind","checked","$viewValue","$apply","$setViewValue","$watch","ngModel","nv","addClass","removeClass","topicoCEEditorSvc","topicoResourcesSvc","$compile","$timeout","$filter","topicoResourcesService","topicoCETestResourceSvc","$q","nextId","template","replace","scope","markdown","html","api","serviceDefer","serviceSuccess","editorUniqueId","includeLinkId","editorAreaId","modalId","defer","resources","res","getResources","schemaOrType","o","resSchemaName","type","types","_","map","chain","extend","tasks","topics","groupBy","v","k","name","r","_ref","concat","apply","filters","title","selectedTypes","filtered","select","t","selectedResources","_ref1","toLowerCase","indexOf","resolve","getTasks","then","err","servicesError","url","msg","$wmdInput","converter","editor","editorArea","help","isPreviewRefresh","modal","topic","watches","Markdown","Converter","alert","tag","description","aboutTopicIds","aboutResIds","nonTopicAbouts","statements","predicate","objectId","includeCallback","popupState","carret","val","includeResource","id","cursor","end","newText","start","substring","refreshPreview","Editor","handler","buttonBar","firstElementChild","children","preview","hooks","newWatches","oldWatches","ow","resultMd","_i","_len","str","p1","wtc","trim","$parent","push","topicoCEVideoSvc","videoTypes","validate","subType","console","warn","config","filter","service","__indexOf","item","i","l","e","_error","call","topicoCESvc","list","m","_results","match","RegExp","getUrl","height","subtype","width","_ref2","_ref3","youtube","vimeo","embed","query","subdomain","location","protocol","sourceId","src","frameborder","desc"],"mappings":"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"}